<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Dashboard Agrícola</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <link href="https://fonts.googleapis.com/icon?family=Material+Icons" rel="stylesheet">
    <style>
      .menu-text, #logo-text, .arrow-icon {
        transition: transform 0.8s cubic-bezier(0.4, 0, 0.2, 1), 
                    opacity 0.8s cubic-bezier(0.4, 0, 0.2, 1), 
                    width 0.8s cubic-bezier(0.4, 0, 0.2, 1);
        opacity: 1;
        transform: translateX(0);
        white-space: nowrap;
        overflow: hidden;
        text-overflow: ellipsis;
      }
      
      .menu-text.shrinking, #logo-text.shrinking, .arrow-icon.shrinking {
        opacity: 0;
        transform: translateX(-10px);
        width: 0;
      }

      .menu-text.hidden, #logo-text.hidden {
        display: none;
      }

      #sidebar {
        transition: width 1.2s cubic-bezier(0.4, 0, 0.2, 1);
        overflow: hidden;
        width: 5rem;
      }

      #sidebar.expanded {
        width: 17rem;
      }

      .sidebar-content {
        width: 16rem;
        transition: width 1.2s cubic-bezier(0.4, 0, 0.2, 1);
      }

      /* Estilo para container dos itens do menu */
      .menu-item {
        display: flex;
        align-items: center;
        width: 100%;
        position: relative;
      }

      /* Container fixo para os ícones */
      .icon-container {
        min-width: 3.5rem;
        height: 2.75rem;
        display: flex;
        align-items: center;
        justify-content: center;
        position: relative;
      }

      /* Ajuste para os ícones */
      .icon-container img {
        width: 1.75rem;
        height: 1.75rem;
        transition: transform 0.3s ease;
      }

      /* Ajuste para o logo */
      .logo-container {
        display: flex;
        align-items: center;
        padding: 0 0.75rem;
        min-height: 4rem;
      }

      .logo-container img:first-child {
        width: 3.5rem;
        height: 3.5rem;
        min-width: 3.5rem;
      }

      /* Ajuste para o avatar */
      .avatar-container {
        min-width: 3.5rem;
        height: 3.5rem;
        display: flex;
        align-items: center;
        justify-content: center;
        padding: 0.25rem;
      }

      .avatar-container img {
        width: 2.75rem;
        height: 2.75rem;
        border-radius: 50%;
      }

      .hover-white:hover {
        background-color: white;
        color: black;
      }

      .hover-white:hover img {
        filter: brightness(0);
      }

      /* Sobrescrevendo apenas o hover do perfil */
      .profile-menu-item.hover-white:hover {
        background-color: rgba(255, 255, 255, 0.1);
        color: white;
      }

      .profile-menu-item.hover-white:hover img {
        filter: none;
      }

      .submenu-container {
        position: relative;
        padding-left: 2.5rem;
        margin-top: 0.5rem;
        max-height: 0;
        opacity: 0;
        overflow: hidden;
        transition: all 0.8s cubic-bezier(0.4, 0, 0.2, 1);
      }

      .submenu-container.show {
        max-height: 300px;
        opacity: 1;
      }

      .submenu-item {
        position: relative;
        padding: 0.5rem 1rem;
        margin-bottom: 0.25rem;
        border-radius: 0.75rem;
        transition: all 0.8s ease;
        white-space: nowrap;
        overflow: hidden;
        text-overflow: ellipsis;
      }

      .divider {
        height: 3px;
        background-color: white;
        border-radius: 1.5px;
        margin: 1.5rem 0.75rem;
      }

      .submenu-line {
        position: absolute;
        left: 1.25rem;
        top: 0;
        bottom: 0;
        width: 3px;
        background-color: white;
        border-radius: 1.5px;
      }

      .submenu-item::before {
        content: '';
        position: absolute;
        left: -1.25rem;
        top: 50%;
        width: 1.25rem;
        height: 3px;
        background-color: white;
        border-radius: 1.5px;
      }

      .submenu-item::after {
        content: '';
        position: absolute;
        left: -1.25rem;
        top: 50%;
        width: 8px;
        height: 16px;
        border-left: 3px solid white;
        border-bottom: 3px solid white;
        border-bottom-left-radius: 6px;
        transform: translateY(-50%);
      }

      .submenu-item:hover {
        background-color: white;
        color: black;
      }

      .arrow-icon {
        transition: transform 0.8s cubic-bezier(0.4, 0, 0.2, 1), 
                    opacity 0.8s cubic-bezier(0.4, 0, 0.2, 1);
        transform-origin: center;
        opacity: 1;
      }

      .arrow-icon.rotated {
        transform: rotate(180deg);
      }

      .arrow-icon.shrinking {
        opacity: 0;
        transform: translateX(-10px);
      }

      .arrow-icon.hidden {
        display: none;
      }

      .text-nowrap {
        white-space: nowrap;
        overflow: hidden;
        text-overflow: ellipsis;
      }

      td {
        white-space: nowrap;
        overflow: hidden;
        text-overflow: ellipsis;
        max-width: 200px;
      }

      /* Ajuste para o container do menu de perfil */
      .profile-menu-item {
        padding: 0.5rem 0.75rem;
      }

      /* Ajuste para os textos do menu */
      .menu-text span {
        font-size: 0.95rem;
      }

      /* Ajuste específico para o texto do perfil */
      .profile-text span {
        font-size: 1rem;
        font-weight: 500;
      }
    </style>
  </head>

  <body class="bg-gray-100 h-screen">
    <!-- Sidebar -->
    <div id="sidebar" class="fixed h-full bg-[#2F4F2F] flex flex-col py-5 text-white transition-all duration-300 rounded-r-xl cursor-pointer" style="width: 5rem; z-index: 50;">
      <!-- Logo Section -->
      <div class="logo-container">
        <img src="assets/imagens/logo/LogoRaizes.svg" alt="Logo">
        <img src="assets/imagens/logo/EscritaRaizes.svg" alt="Raízes" class="h-8 hidden ml-3" id="logo-text">
      </div>

      <div class="divider"></div>
      
      <!-- Menu Grid -->
      <div class="grid grid-cols-1 gap-2 px-3">
        <!-- Menu Items -->
        <div class="grid grid-cols-1 gap-2">
          <a href="#" class="menu-item hover-white rounded-xl group transition-all duration-800">
            <div class="icon-container">
              <img src="assets/imagens/icones/Icone-Propriedades.svg" alt="Propriedades">
            </div>
            <div class="hidden menu-text pl-3 flex-1">
              <span class="text-sm">Propriedades</span>
            </div>
          </a>
          
          <a href="#" class="menu-item hover-white rounded-xl group transition-all duration-800">
            <div class="icon-container">
              <img src="assets/imagens/icones/Icone-Plantios.svg" alt="Plantios">
            </div>
            <div class="hidden menu-text pl-3 flex-1">
              <span class="text-sm">Plantios</span>
            </div>
          </a>
          
          <a href="#" class="menu-item hover-white rounded-xl group transition-all duration-800">
            <div class="icon-container">
              <img src="assets/imagens/icones/Icone-PlanoContas.svg" alt="Plano de Contas">
            </div>
            <div class="hidden menu-text pl-3 flex-1">
              <span class="text-sm">Plano de contas</span>
            </div>
          </a>

          <!-- Relatórios com submenu -->
          <div class="relative">
            <a href="#" class="menu-item hover-white rounded-xl group" id="relatorios-btn">
              <div class="icon-container">
                <img src="assets/imagens/icones/Icone-Relatorios.svg" alt="Relatórios">
              </div>
              <div class="menu-text hidden pl-3 flex-1">
                <span class="text-sm">Relatórios</span>
              </div>
              <svg class="w-4 h-4 arrow-icon hidden ml-auto mr-3" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M19 9l-7 7-7-7"></path>
              </svg>
            </a>
            <div class="submenu-container hidden" id="relatorios-submenu">
              <div class="submenu-line"></div>
              <a href="#" class="submenu-item block hover-white">
                <span class="text-sm">Estimativa 180 dias</span>
              </a>
              <a href="#" class="submenu-item block hover-white">
                <span class="text-sm">Histórico de custos</span>
              </a>
              <a href="#" class="submenu-item block hover-white">
                <span class="text-sm">Histórico de Colheitas</span>
              </a>
              <a href="#" class="submenu-item block hover-white">
                <span class="text-sm">Plano de Contas</span>
              </a>
            </div>
          </div>
        </div>
      </div>

      <div class="divider"></div>

      <!-- Footer Section -->
      <div class="mt-auto grid grid-cols-1">
        <a href="#" class="menu-item hover-white rounded-xl profile-menu-item transition-all duration-800">
          <div class="avatar-container">
            <img src="assets/imagens/Perfil/Foto-Perfil.svg" alt="Avatar">
          </div>
          <div class="hidden menu-text pl-3 flex-1">
            <span class="text-sm">Antonio silva</span>
          </div>
        </a>

        <div class="divider"></div>

        <div class="grid grid-cols-1 gap-2 px-3">
          <a href="#" class="menu-item hover-white rounded-xl group transition-all duration-800">
            <div class="icon-container">
              <img src="assets/imagens/icones/Icone-Configuracoes.svg" alt="Configurações">
            </div>
            <div class="hidden menu-text pl-3 flex-1">
              <span class="text-sm">Configurações</span>
            </div>
          </a>
          
          <a href="#" class="menu-item hover-white rounded-xl group transition-all duration-800 text-red-400">
            <div class="icon-container">
              <img src="assets/imagens/icones/Icone-Sair.svg" alt="Sair">
            </div>
            <div class="hidden menu-text pl-3 flex-1">
              <span class="text-sm">Sair</span>
            </div>
          </a>
        </div>
      </div>
    </div>

    <!-- Main Content -->
    <div class="ml-20 p-8 h-screen flex flex-col">
      <!-- Stats Cards -->
      <div class="grid grid-cols-3 gap-8 mb-8">
        <div class="bg-white rounded-lg p-6 flex items-center justify-between shadow-sm">
          <div class="flex items-center gap-4">
            <div class="p-3 bg-gray-100 rounded-full">
              <img src="assets/imagens/icones/Icone-Propriedades.svg" alt="Propriedades" class="w-6 h-6 text-green-600">
            </div>
            <div>
              <p class="text-gray-600">Propriedades</p>
              <h2 class="text-2xl font-semibold">2</h2>
            </div>
          </div>
        </div>
        <div class="bg-white rounded-lg p-6 flex items-center justify-between shadow-sm">
          <div class="flex items-center gap-4">
            <div class="p-3 bg-gray-100 rounded-full">
              <img src="assets/imagens/icones/Icone-Plantios.svg" alt="Plantios" class="w-6 h-6 text-green-600">
            </div>
            <div>
              <p class="text-gray-600">Plantios</p>
              <h2 class="text-2xl font-semibold">2</h2>
            </div>
          </div>
        </div>
        <div class="bg-white rounded-lg p-6 flex items-center justify-between shadow-sm">
          <div class="flex items-center gap-4">
            <div class="p-3 bg-gray-100 rounded-full">
              <img src="assets/imagens/icones/Icone-PlanoContas.svg" alt="Plano de Contas" class="w-6 h-6 text-green-600">
            </div>
            <div>
              <p class="text-gray-600">Ativos</p>
              <h2 class="text-2xl font-semibold">2</h2>
            </div>
          </div>
        </div>
      </div>

      <!-- Table Section -->
      <div class="bg-white rounded-lg p-6 shadow-sm flex-1 flex flex-col min-h-0" style="z-index: 10;">
        <div class="flex justify-between items-center mb-6">
          <h2 class="text-xl font-semibold text-gray-800">Propriedades</h2>
          <div class="flex gap-4">
            <div class="relative">
              <img src="assets/imagens/icones/Icone-Lupa.svg" alt="Buscar" class="absolute left-3 top-1/2 transform -translate-y-1/2 w-4 h-4 text-gray-400">
              <input type="text" 
                     placeholder="Pesquisar propriedades..." 
                     class="pl-9 pr-4 py-2.5 w-64 border border-gray-200 rounded-xl bg-white shadow-sm 
                            focus:outline-none focus:ring-2 focus:ring-green-500/20 focus:border-green-500
                            text-sm text-gray-600 placeholder-gray-400
                            transition-all duration-200">
            </div>
            <div class="relative">
              <select class="appearance-none pl-4 pr-10 py-2.5 w-48 border border-gray-200 rounded-xl bg-white shadow-sm 
                           focus:outline-none focus:ring-2 focus:ring-green-500/20 focus:border-green-500
                           text-sm text-gray-600 cursor-pointer
                           transition-all duration-200">
                <option value="" disabled>Ordenar por...</option>
                <option value="nome_asc">Nome (A-Z)</option>
                <option value="nome_desc">Nome (Z-A)</option>
                <option value="plantios">Quantidade de Plantios</option>
                <option value="status">Status</option>
              </select>
              <div class="absolute right-3 top-1/2 transform -translate-y-1/2 pointer-events-none">
                <svg class="w-4 h-4 text-gray-500" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                  <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M19 9l-7 7-7-7"></path>
                </svg>
              </div>
            </div>
            <button class="px-4 py-2.5 bg-white border border-gray-200 rounded-xl shadow-sm
                         hover:bg-gray-50 active:bg-gray-100
                         focus:outline-none focus:ring-2 focus:ring-green-500/20
                         text-sm text-gray-600
                         transition-all duration-200
                         flex items-center gap-2">
              <svg class="w-4 h-4" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M3 4a1 1 0 011-1h16a1 1 0 011 1v2.586a1 1 0 01-.293.707l-6.414 6.414a1 1 0 00-.293.707V17l-4 4v-6.586a1 1 0 00-.293-.707L3.293 7.293A1 1 0 013 6.586V4z"></path>
              </svg>
              Filtros
            </button>
          </div>
        </div>

        <div class="flex-1 overflow-auto min-h-0">
          <table class="w-full border-collapse">
            <thead>
              <tr class="text-gray-600 border-b border-gray-200">
                <th class="pb-3 pt-2 sticky top-0 bg-white text-center text-sm font-semibold">Nome</th>
                <th class="pb-3 pt-2 sticky top-0 bg-white text-center text-sm font-semibold">Plantios</th>
                <th class="pb-3 pt-2 sticky top-0 bg-white text-center text-sm font-semibold">Solo</th>
                <th class="pb-3 pt-2 sticky top-0 bg-white text-center text-sm font-semibold">Endereço</th>
                <th class="pb-3 pt-2 sticky top-0 bg-white text-center text-sm font-semibold">Status</th>
              </tr>
            </thead>
            <tbody class="text-sm">
              <tr class="border-b border-gray-100 hover:bg-gray-50 transition-colors duration-150 ease-in-out">
                <td class="py-3 px-2 text-center">Propriedade Ativa</td>
                <td class="py-3 px-2 text-center">1</td>
                <td class="py-3 px-2 text-center">Latossolo</td>
                <td class="py-3 px-2 text-center">numero 1, Endereço 1, bairro 1, cidade 1, país 1</td>
                <td class="py-3 px-2 text-center">
                  <span class="px-1.5 py-1 bg-green-100 text-green-600 rounded-full min-w-[70px] inline-block text-center text-xs font-medium">Ativa</span>
                </td>
              </tr>
              <tr class="border-b border-gray-100 hover:bg-gray-50 transition-colors duration-150 ease-in-out">
                <td class="py-3 px-2 text-center">Propriedade Inativa</td>
                <td class="py-3 px-2 text-center">1</td>
                <td class="py-3 px-2 text-center">Latossolo</td>
                <td class="py-3 px-2 text-center">numero 1, Endereço 1, bairro 1, cidade 1, país 1</td>
                <td class="py-3 px-2 text-center">
                  <span class="px-1.5 py-1 bg-red-100 text-red-600 rounded-full min-w-[70px] inline-block text-center text-xs font-medium">Inativa</span>
                </td>
              </tr>
              <tr class="border-b border-gray-100 hover:bg-gray-50 transition-colors duration-150 ease-in-out">
                <td class="py-3 px-2 text-center">Propriedade 3</td>
                <td class="py-3 px-2 text-center">1</td>
                <td class="py-3 px-2 text-center">Latossolo</td>
                <td class="py-3 px-2 text-center">numero 1, Endereço 1, bairro 1, cidade 1, país 1</td>
                <td class="py-3 px-2 text-center">
                  <span class="px-1.5 py-1 bg-green-100 text-green-600 rounded-full min-w-[70px] inline-block text-center text-xs font-medium">Ativa</span>
                </td>
              </tr>
              <tr class="border-b border-gray-100 hover:bg-gray-50 transition-colors duration-150 ease-in-out">
                <td class="py-3 px-2 text-center">Propriedade 4</td>
                <td class="py-3 px-2 text-center">1</td>
                <td class="py-3 px-2 text-center">Latossolo</td>
                <td class="py-3 px-2 text-center">numero 1, Endereço 1, bairro 1, cidade 1, país 1</td>
                <td class="py-3 px-2 text-center">
                  <span class="px-1.5 py-1 bg-green-100 text-green-600 rounded-full min-w-[70px] inline-block text-center text-xs font-medium">Ativa</span>
                </td>
              </tr>
            </tbody>
          </table>
        </div>

        <div class="flex justify-between items-center mt-6 pt-4 border-t">
          <p class="text-gray-600">Mostrando 1 de 10</p>
          <div class="flex gap-2">
            <button class="w-8 h-8 flex items-center justify-center rounded bg-green-600 text-white">1</button>
            <button class="w-8 h-8 flex items-center justify-center rounded hover:bg-gray-100">2</button>
            <button class="w-8 h-8 flex items-center justify-center rounded hover:bg-gray-100">3</button>
            <button class="w-8 h-8 flex items-center justify-center rounded hover:bg-gray-100">4</button>
            <span class="w-8 h-8 flex items-center justify-center">...</span>
            <button class="w-8 h-8 flex items-center justify-center rounded hover:bg-gray-100">10</button>
          </div>
        </div>
      </div>
    </div>

    <script>
    document.addEventListener('DOMContentLoaded', function() {
        const sidebar = document.getElementById('sidebar');
        const logoText = document.getElementById('logo-text');
        const menuTexts = document.querySelectorAll('.menu-text');
        const relatoriosBtn = document.getElementById('relatorios-btn');
        const relatoriosSubmenu = document.getElementById('relatorios-submenu');
        const arrow = relatoriosBtn.querySelector('.arrow-icon');
        let isExpanded = false;
        let isSubmenuOpen = false;

        function toggleSubmenu(event) {
            event.preventDefault();
            event.stopPropagation();
            
            if (!isExpanded) {
                toggleSidebar();
                setTimeout(() => {
                    showSubmenu();
                }, 400);
            } else {
                showSubmenu();
            }
        }

        function showSubmenu() {
            isSubmenuOpen = !isSubmenuOpen;
            
            if (isSubmenuOpen) {
                relatoriosSubmenu.classList.remove('hidden');
                requestAnimationFrame(() => {
                    relatoriosSubmenu.classList.add('show');
                    arrow.classList.add('rotated');
                });
            } else {
                relatoriosSubmenu.classList.remove('show');
                arrow.classList.remove('rotated');
                setTimeout(() => {
                    relatoriosSubmenu.classList.add('hidden');
                }, 400);
            }
        }

        function toggleSidebar(event) {
            if (event && (event.target.tagName === 'A' || event.target.closest('a') === relatoriosBtn)) {
                return;
            }
            
            isExpanded = !isExpanded;
            
            if (isExpanded) {
                sidebar.style.width = '16rem';
                menuTexts.forEach(el => {
                    el.classList.remove('hidden');
                    requestAnimationFrame(() => {
                        el.classList.remove('shrinking');
                    });
                });
                logoText.classList.remove('hidden');
                arrow.classList.remove('hidden');
                requestAnimationFrame(() => {
                    logoText.classList.remove('shrinking');
                    arrow.classList.remove('shrinking');
                });
            } else {
                menuTexts.forEach(el => {
                    el.classList.add('shrinking');
                });
                logoText.classList.add('shrinking');
                arrow.classList.add('shrinking');
                
                if (isSubmenuOpen) {
                    relatoriosSubmenu.classList.remove('show');
                    arrow.classList.remove('rotated');
                    setTimeout(() => {
                        relatoriosSubmenu.classList.add('hidden');
                    }, 200);
                    isSubmenuOpen = false;
                }

                // Inicia a diminuição da largura junto com o fade
                requestAnimationFrame(() => {
                    sidebar.style.width = '5rem';
                });
                
                setTimeout(() => {
                    menuTexts.forEach(el => {
                        el.classList.add('hidden');
                    });
                    logoText.classList.add('hidden');
                    arrow.classList.add('hidden');
                }, 800);
            }
        }

        relatoriosBtn.addEventListener('click', toggleSubmenu);
        sidebar.addEventListener('click', toggleSidebar);
    });
    </script>
  </body>
</html>